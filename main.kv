Manager:
    HomePage:
    ChokeScreen:
    SettingScreen:
    FileScreen:

<HomePage>:
    name: "Home"
    MDCard:
        orientation: "vertical"
        padding: "8dp"
        size_hint: None, None
        size: "480dp", "800dp"
        pos_hint: {"center_x": .5, "center_y": .5}
        MDFloatLayout:
            md_bg_color: 0.83,0.83,0.83,1 
            FitImage:
                source:"pic/bg.jpg"
                pos_hint: {"center_x": .5, "center_y": .5}
            MDLabel:
                id: welcome
                text: "Welcome"
                pos_hint: {"center_x": 0.5, "center_y": 0.95}
                halign: "center"
                font_color: 0,0,0,1
                font_size: "30sp"
                font_name: "Roboto-Black.ttf"
            Image:
                source:"pic/PROMATE Logo(1).png"
                size_hint: None, None
                size: 100, 100
                pos_hint: {"center_x": 0.1, "center_y": 0.95}
            MDLabel:
                id: title
                text:"[b]Tools :[/b]"
                markup: True
                pos_hint: {"center_x": 0.57, "center_y": 0.75}
                halign: "left"
                font_color: 0,0,0,1
                font_size: "20sp"
                font_name: "Roboto-Black.ttf"
            ElementCard:
                image: "pic/Choke1.jpg"
                subtext:"Choke performance"
                font_size: "8sp"
                font_name: "Roboto-Medium.ttf"
                size_hint: 0.35,0.21
                pos_hint: {"x": 0.05, "center_y": 0.60}
                border_radius: [6,]
                on_release: app.root.current = "Choke"
            ElementCard:
                subtext:"Phase 2"
                image: "pic/Unknown.jpg"
                font_size: "8sp"
                font_name: "Roboto-Medium.ttf"
                size_hint: 0.35,0.21
                pos_hint: {"x": 0.6, "center_y": 0.60}
                border_radius: [6,]
            ElementCard:
                subtext:"Phase 3"
                image: "pic/Unknown.jpg"
                font_size: "10sp"
                font_name: "Roboto-Medium.ttf"
                size_hint: 0.35,0.21
                pos_hint: {"x": 0.05, "center_y": 0.35}
                border_radius: [6,]
            ElementCard:
                subtext:"Phase 4"
                image: "pic/Unknown.jpg"
                font_size: "10sp"
                font_name: "Roboto-Medium.ttf"
                size_hint: 0.35,0.21
                pos_hint: {"x": 0.6, "center_y": 0.35}
                border_radius: [6,]
            NavBar:
                size_hint: 0.85 , .065
                pos_hint: {"center_x": 0.5, "center_y": 0.06}
                elavation:10  
                md_bg_color: 1,1,1,1
                radius:[16]
                MDGridLayout:
                    cols:3
                    size_hint_x: 1
                    spacing: 157
                    pos_hint: {"center_x": 0.5 , "center_y": .5}
                    MDIconButton:
                        id: nav_icon1
                        icon: "file"
                        ripple_scale:0
                        user_font_size: "30sp"
                        theme_text_color: "Custom"
                        text_color: 0,0,0,1
                        on_release:
                            app.root.current = "files"
                            root.manager.transition.direction = "right"
                    MDIconButton:
                        id: nav_icon2
                        icon: "home"
                        ripple_scale:0
                        user_font_size: "30sp"
                        theme_text_color: "Custom"
                        text_color: 1,0,0,1
                        on_release:
                            app.root.current = "Home"
                            
                    MDIconButton:
                        id: nav_icon3
                        icon: "cog-outline"
                        ripple_scale:0
                        user_font_size: "30sp"
                        theme_text_color: "Custom"
                        text_color: 0,0,0,1
                        on_release:
                            app.root.current = "setting"
                            root.manager.transition.direction = "left"


            
<SettingScreen>:
    name: "setting"
    MDCard:
        orientation: "vertical"
        padding: "8dp"
        size_hint: None, None
        size: "480dp", "800dp"
        pos_hint: {"center_x": .5, "center_y": .5}
        MDFloatLayout:
            md_bg_color: 0.83,0.83,0.83,1 
            MDLabel:
                id: sett
                text: "Setting Page"
                pos_hint: {"center_x": 0.5, "center_y": 0.95}
                halign: "center"
                font_color: 0,0,0,1
                font_size: "20sp"
                font_name: "Roboto-Black.ttf"
            NavBar:
                size_hint: 0.85 , .065
                pos_hint: {"center_x": 0.5, "center_y": 0.06}
                elavation:10  
                md_bg_color: 1,1,1,1
                radius:[16]
                MDGridLayout:
                    cols:3
                    size_hint_x: 1
                    spacing: 157
                    pos_hint: {"center_x": 0.5 , "center_y": .5}
                    MDIconButton:
                        id: nav_icon1
                        icon: "file"
                        ripple_scale:0
                        user_font_size: "30sp"
                        theme_text_color: "Custom"
                        text_color: 0,0,0,1
                        on_release:
                            app.root.current = "files"
                            
                    MDIconButton:
                        id: nav_icon2
                        icon: "home"
                        ripple_scale:0
                        user_font_size: "30sp"
                        theme_text_color: "Custom"
                        text_color: 0,0,0,1
                        on_release:
                            app.root.current = "Home"
                            root.manager.transition.direction = "right"
                            
                    MDIconButton:
                        id: nav_icon3
                        icon: "cog-outline"
                        ripple_scale:0
                        user_font_size: "30sp"
                        theme_text_color: "Custom"
                        text_color: 1,0,0,1
                        on_release:
                            app.root.current = "setting"
                            root.manager.transition.direction = "left"



<FileScreen>:
    name: "files"
    MDCard:
        orientation: "vertical"
        padding: "8dp"
        size_hint: None, None
        size: "480dp", "800dp"
        pos_hint: {"center_x": .5, "center_y": .5}
        MDFloatLayout:
            md_bg_color: 0.83,0.83,0.83,1 
            MDLabel:
                id: file
                text: "Files Page"
                pos_hint: {"center_x": 0.5, "center_y": 0.95}
                halign: "center"
                font_color: 0,0,0,1
                font_size: "20sp"
                font_name: "Roboto-Black.ttf"
            NavBar:
                size_hint: 0.85 , .065
                pos_hint: {"center_x": 0.5, "center_y": 0.06}
                elavation:10  
                md_bg_color: 1,1,1,1
                radius:[16]
                MDGridLayout:
                    cols:3
                    size_hint_x: 1
                    spacing: 157
                    pos_hint: {"center_x": 0.5 , "center_y": .5}
                    MDIconButton:
                        id: nav_icon1
                        icon: "file"
                        ripple_scale:0
                        user_font_size: "30sp"
                        theme_text_color: "Custom"
                        text_color: 1,0,0,1
                        on_release:
                            app.root.current = "files"
                            root.manager.transition.direction = "right"
                    MDIconButton:
                        id: nav_icon2
                        icon: "home"
                        ripple_scale:0
                        user_font_size: "30sp"
                        theme_text_color: "Custom"
                        text_color: 0,0,0,1
                        on_release:
                            app.root.current = "Home"
                            root.manager.transition.direction = "left"
                    MDIconButton:
                        id: nav_icon3
                        icon: "cog-outline"
                        ripple_scale:0
                        user_font_size: "30sp"
                        theme_text_color: "Custom"
                        text_color: 0,0,0,1
                        on_release:
                            app.root.current = "setting"

<ChokeScreen>:
    name: "Choke"
    MDCard:
        orientation: "vertical"
        padding: "8dp"
        size_hint: None, None
        size: "480dp", "800dp"
        pos_hint: {"center_x": .5, "center_y": .5}
        MDFloatLayout:
            md_bg_color: 0.83,0.83,0.83,1 
            MDIconButton:
                icon: "arrow-left"  # Specify the icon name for the back button
                pos_hint: {"x": 0.01, "y": 0.93}
                on_release:
                    app.root.current = "Home"
                    root.manager.transition.direction = "right"
            MDLabel:
                id: Choke
                text: "Choke Performance"
                pos_hint: {"center_x": 0.53, "center_y": 0.96}
                halign: "center"
                font_color: 0,0,0,1
                font_size: "18sp"
                font_name: "Roboto-Black.ttf"

            MDLabel:
                id: click_label
                text: ""
                pos_hint: {"center_x" :0.55 , "center_y" :0.7}
                font_size:"14sp"
                font_name: "Roboto-Black.ttf"

            Spinner:
                id:spinner_id
                size_hint: .5 , .015
                #background_color:255, 255, 255
                spinner_background_color: 255,255,255
                pos_hint: {"center_x": 0.5, "center_y": 0.85}
                text:"Choose method"
                values:["Gilbert","Ros","Baxendall","slb","Achong","Pilevari"]
                text_color: 0,0,0,0


                on_text: root.spinner_clicked(spinner_id.text)
            MDLabel:
                text: "Upstream Pressure :"
                pos_hint: {"center_x" :0.55 , "center_y" :0.65}
                font_size:"12sp"
                font_name: "Roboto-Black.ttf"

            TextInput:
                id:Upstream_pressure
                hint_text:"Upstream Pressure"
                font_size:"12sp"
                size_hint: 0.2 , 0.03
                pos_hint: {"center_x" :0.45 , "center_y" :0.65}

            MDLabel:
                text: "Producing GOR :"
                pos_hint: {"center_x" :0.55 , "center_y" :0.6}
                font_size:"12sp"
                font_name: "Roboto-Black.ttf"

            TextInput:
                id:Producing_GOR
                hint_text:"Producing GOR"
                font_size:"12sp"
                size_hint: 0.2 , 0.03
                pos_hint: {"center_x" :0.45 , "center_y" :0.6}

            MDLabel:
                text: "Choke Diameter :"
                pos_hint: {"center_x" :0.55 , "center_y" :0.55}
                font_size:"12sp"
                font_name: "Roboto-Black.ttf"

            TextInput:
                id:Choke_Diameter
                hint_text:"Choke Diameter"
                font_size:"12sp"
                size_hint: 0.2 , 0.03
                pos_hint: {"center_x" :0.45 , "center_y" :0.55}

            MDLabel:
                text: "Emperial Coefficient :"
                pos_hint: {"center_x" :0.55 , "center_y" :0.5}
                font_size:"12sp"
                font_name: "Roboto-Black.ttf"

            TextInput:
                id:Emperial_Coefficient1
                hint_text:"Emperial Coefficient"
                text: ""
                readonly: True
                font_size:"12sp"
                size_hint: 0.2 , 0.03
                pos_hint: {"center_x" :0.45 , "center_y" :0.5}

            MDLabel:
                text: "Emperial Coefficient :"
                pos_hint: {"center_x" :0.55 , "center_y" :0.45}
                font_size:"12sp"
                font_name: "Roboto-Black.ttf"

            TextInput:
                id:Emperial_Coefficient2
                hint_text:"Emperial Coefficient"
                text: ""
                readonly: True
                font_size:"12sp"
                size_hint: 0.2 , 0.03
                pos_hint: {"center_x" :0.45 , "center_y" :0.45}

            MDLabel:
                text: "Emperial Coefficient :"
                pos_hint: {"center_x" :0.55 , "center_y" :0.4}
                font_size:"12sp"
                font_name: "Roboto-Black.ttf"

            TextInput:
                id:Emperial_Coefficient3
                hint_text:"Emperial Coefficient"
                text: ""
                readonly: True
                font_size:"12sp"
                size_hint: 0.2 , 0.03
                pos_hint: {"center_x" :0.45 , "center_y" :0.4}

            SmoothButton:
                text: "Calculate Flow Rate"
                font_name: "CALISTI.TTF"
                font_size: "20sp"
                bg_color:1,1,1,0.5
                pos_hint: {"center_x" :0.5 , "center_y" :0.3}
                size_hint:.35,.05
                #on_release : app.search_weather()
                on_release: root.calculate_flow_rate()
            MDLabel:
                id: result_label
                text: ""
                pos_hint: {"center_x": 0.85, "center_y": 0.2}



<SmoothButton@Button>:
    background_color: (0,0,0,0)
    background_normal: ''
    back_color: (1,0,1,1)
    radius: [18,2,18,2]
    canvas.before :
        Color: 
            rgba:self.back_color
        RoundedRectangle:
            size: self.size
            pos: self.pos
            radius: self.radius


<ElementCard@MDCard>:
    md_bg_color:69/255,55/255,86/255,1
    padding:(25,20,10,10)
    spacing:dp(10)
    radius:dp(25)
    ripple_behavior: True
    image:''
    text:""
    subtext:''

    orientation:'vertical'
    Image:
        padding:(25,20,10,10)
        size_hint: None,None
        size: 150,150
        source:root.image
    MDBoxLayout:
        orientation:'vertical'
        MDLabel:
            halign:"center"
            text:root.text
        MDLabel:
            padding:(5,0,20,15)
            halign:"center"
            font_style:"Caption"
            font_size: "15px"
            text:root.subtext
            color: 1,1,1,1 

<RoundedImageButton@MDCard>:
    corner_radius: dp(25)
    size_hint: None, None
    size: 150, 150
    pos_hint: {'center_x': 0.5, 'center_y': 0.5}
    
    canvas.before:
        StencilPush
        RoundedRectangle:
            pos: self.pos
            size: self.size
            radius: [25, 25, 25, 25]
        StencilUse

    canvas.after:
        StencilUnUse
        RoundedRectangle:
            pos: self.pos
            size: self.size
            radius: self.radius
        StencilPop